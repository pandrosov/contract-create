# üöÄ –ü–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ –¥–µ–ø–ª–æ—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–µ–ø–ª–æ—è

```
‚îú‚îÄ‚îÄ deploy.sh              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
‚îú‚îÄ‚îÄ server-manage.sh       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
‚îú‚îÄ‚îÄ health-check.sh        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ backup.sh              # –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏
‚îú‚îÄ‚îÄ QUICK_START.md         # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ DEPLOY_INSTRUCTIONS.md # –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ production.env         # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README_DEPLOY.md       # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –¥–µ–ø–ª–æ—è

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç:
- **Docker –∏ Docker Compose** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- **PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏
- **Nginx reverse proxy** —Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- **Firewall** (—Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã)
- **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã Let's Encrypt** —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞
- **Rate limiting** –¥–ª—è API
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### üåê –†–µ–∑—É–ª—å—Ç–∞—Ç:
- **Frontend**: https://contract.alnilam.by
- **API**: https://contract.alnilam.by/api
- **Health Check**: https://contract.alnilam.by/health

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH
```bash
ssh-keygen -t rsa -b 4096 -C "your-email@example.com"
ssh-copy-id root@185.179.83.236
ssh root@185.179.83.236 "echo 'SSH –≥–æ—Ç–æ–≤'"
```

### 2. –ó–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è
```bash
chmod +x *.sh
./deploy.sh
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
./health-check.sh
./server-manage.sh status
```

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```bash
./server-manage.sh start      # –ó–∞–ø—É—Å–∫
./server-manage.sh stop       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
./server-manage.sh restart    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
./server-manage.sh status     # –°—Ç–∞—Ç—É—Å
./server-manage.sh logs       # –õ–æ–≥–∏
./server-manage.sh update     # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./server-manage.sh shell      # Shell –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```

### –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏:
```bash
./backup.sh full              # –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
./backup.sh db                # –¢–æ–ª—å–∫–æ –ë–î
./backup.sh files             # –¢–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã
./backup.sh info              # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
./backup.sh cleanup           # –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
```bash
./health-check.sh             # –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
./server-manage.sh status     # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
./server-manage.sh logs       # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
- ‚úÖ **Firewall**: —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç—ã 22, 80, 443, 8000
- ‚úÖ **SSL**: Let's Encrypt —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- ‚úÖ **–ü–∞—Ä–æ–ª–∏**: —Å–ª—É—á–∞–π–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–µ–ø–ª–æ—è
- ‚úÖ **CORS**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –≤–∞—à–∏–º –¥–æ–º–µ–Ω–æ–º
- ‚úÖ **Rate limiting**: 10 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ –Ω–∞ API

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
- üîê –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –≤ `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- üîê –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã
- üîê –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
./server-manage.sh logs

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
ssh root@185.179.83.236 "cd /opt/contract-app && docker-compose -f docker-compose.prod.yaml logs -f backend"
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:
```bash
./server-manage.sh status
ssh root@185.179.83.236 "docker stats"
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ:
```bash
./server-manage.sh update
```

### –†—É—á–Ω–æ–µ:
```bash
ssh root@185.179.83.236
cd /opt/contract-app
git pull origin main
docker-compose -f docker-compose.prod.yaml up -d --build
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: SSH –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∏ –∫–ª—é—á–∏
ssh -v root@185.179.83.236
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
./server-manage.sh logs
./health-check.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: SSL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
./server-manage.sh ssl
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
```bash
ssh root@185.179.83.236 "cd /opt/contract-app && docker-compose -f docker-compose.prod.yaml exec postgres pg_isready"
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- **Workers**: 4 (backend)
- **Max connections**: 1000 (nginx)
- **Timeout**: 30 —Å–µ–∫—É–Ω–¥
- **Gzip compression**: –≤–∫–ª—é—á–µ–Ω
- **Static file caching**: 1 –≥–æ–¥

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
```bash
./health-check.sh
ssh root@185.179.83.236 "htop"
ssh root@185.179.83.236 "docker stats"
```

## üíæ –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ:
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQL dump
- **–§–∞–π–ª—ã**: —Å–∂–∞—Ç—ã–π –∞—Ä—Ö–∏–≤
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: 30 –¥–Ω–µ–π
- **–õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–ø–∏–∏**: —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:
```bash
./backup.sh restore db_backup_20241201_120000.sql
./backup.sh restore files_backup_20241201_120000.tar.gz
```

## üåç –î–æ–º–µ–Ω –∏ SSL

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –î–æ–º–µ–Ω `contract.alnilam.by` –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ `185.179.83.236`
- –ü–æ—Ä—Ç—ã 80 –∏ 443 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã

### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**: Let's Encrypt
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –∫–∞–∂–¥—ã–µ 60 –¥–Ω–µ–π
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: `./health-check.sh`

## üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
- **UptimeRobot**: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- **Google Analytics**: –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **Yandex.Metrica**: –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **Telegram Bot**: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
–§–∞–π–ª `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- –ü–∞—Ä–æ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ë—ç–∫–∞–ø—ã

### Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
–§–∞–π–ª `nginx/nginx.conf` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç:
- SSL
- Rate limiting
- Gzip
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**: `./server-manage.sh logs`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å**: `./server-manage.sh status`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–¥–æ—Ä–æ–≤—å–µ**: `./health-check.sh`
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH**: `ssh root@185.179.83.236`

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./server-manage.sh restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ nginx
ssh root@185.179.83.236 "cd /opt/contract-app && docker-compose -f docker-compose.prod.yaml restart nginx"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL
echo | openssl s_client -servername contract.alnilam.by -connect contract.alnilam.by:443
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:
1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (UptimeRobot)
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É** (Google Analytics)
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (Telegram Bot)
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ CDN** (Cloudflare)
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã** (cron)

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~10-15 –º–∏–Ω—É—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü—Ä–æ–¥–∞–∫—à–Ω –≥–æ—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  

**–ù–∞—á–Ω–∏—Ç–µ —Å `QUICK_START.md` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞!** üéâ
